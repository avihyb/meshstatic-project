**מסמך פרויקט סוף**  
קורס רדיו תוכנה  
**Meshtastic**   
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

**מבוא**  
כחלק מקורס רדיו תוכנה, בחנו את מערכת Meshtastic, פלטפורמה ליצירת רשתות אריג מבוזרות (Decentralized Mesh Networks). המערכת מאפשרת תקשורת עצמאית (Off-grid) ללא תלות בתשתיות תקשורת מסורתיות. המערכת נשענת על שני רבדים: 

1. שכבה פיזית, שימוש ב- LoRa המאפשר תקשורת לטווח ארוך בהספק נמוך.   
2. שכבת ניתוב, כל מכשיר ברשת מתפקד גם כתחנת קצה וגם כנתב (Router).

 המכשירים מעבירים הודעות מאחד לשני (Relaying) בעזרת אלגוריתם הצפה מבוקרת/מנוהלת (Managed Flood), וכך מאפשרים למידע לעבור דרך מספר קפיצות (Hops) כדי לעקוף מכשולים  ולהגיע ליעד.

**שכבה פיזית**  
ניגשנו ראשית להבין את השכבה הפיזית של המערכת, היא זו שמאפשרת את תקשורת הרדיו. הטכנולוגיה נקראת LoRa והיא נשענת על רעיון שנקרא Chirp Spread Spectrum או בקיצור CSS שזה בעצם שידור המידע כגלי רדיו עולה יורד באופן שמזכיר ציוצי ציפורים.  
במערכת קיים פרמטר שנקרא Spreading Factor אשר למעשה קובע את משך זמן של כל ״ציוץ״.   
שינוי הפרמטר יכול להשפיע על כמה אספקטים באופן העברת/קבלת ההודעות ברשת.  
ה- Trade Off המרכזי הינו: הגדלת הפרמטר מורחת את האות על פני זמן רב יותר מה שמאפשר קליטה בתנאים מורכבים. אך המחיר הינו זמן אוויר גדול יותר לשידור כל הודעה שתוצאתו בין היתר גם בזבוז סוללה.

**שכבה ניתוב**  
המכשירים ברשת פועיל יחד כרשת אריג \- Mesh. המערכת אינה משתמשת בראוטר, אלא כל מכשיר (Node) משתתף בהעברת המידע. האלגוריתם המנהל זאת נקרא Managed Flood.  
כדי למנוע מצב של שידורים כפולים והצפת שידורים שבה הרשת קורסת מעודף הודעות כפולות, כל מכשיר מקבל החלטה האם לשדר מחדש הודעה שקלט.  
ההחלטה מתבססת על מגבלת קפיצות (Hop Limit) ועל איכות האות הנקלט.

**נוסחת זמן אוויר**  
נוסחה זו מחשבת את משך הזמן המדויק שבו גלי הרדיו נמצאים באוויר.

Tpacket \= Tpreamble+Tpayload

**הצעת ניסוי**  
לאחר הבנת השכבה הפיזית ושכבת הניתוב, בחרתי להתמקד בניסוי שיבחן את הקשר שבין התיאוריה ליישום. הניסוי יבדוק כיצד שינוי הגדרת תוכנה כמו Spreading Factor משפיע בפועל על זמן האוויר וזמן קבלת ההודעה, וישווה את התוצאות המעשיות לנוסחה התיאורטית.

